using System.Collections.Generic;
using TomiSoft.YoutubeDownloader.Downloading;
using TomiSoft.YoutubeDownloader.Tests.YoutubeDlMocks;

namespace TomiSoft.YoutubeDownloader.Tests.Samples.FailedAudioDownloadSamples {
    class SimpleDownloadFailedSample : IFailedAudioOutputSample {
        public IEnumerable<KeyValuePair<SimpleTextConsoleAppMock.WriteTo, string>> Output => new List<KeyValuePair<SimpleTextConsoleAppMock.WriteTo, string>>() {
            To.Out("[niconico] sm20308615: Downloading webpage"),
            To.Out("[niconico] sm20308615: Downloading JSON metadata for h264_400kbps_360p-aac_192kbps"),
            To.Out("[niconico] sm20308615: Downloading JSON metadata for h264_300kbps_360p-aac_192kbps"),
            To.Out("[niconico] sm20308615: Downloading JSON metadata for h264_400kbps_360p-aac_64kbps"),
            To.Out("[niconico] sm20308615: Downloading JSON metadata for h264_300kbps_360p-aac_64kbps"),
            To.Out("[download] Destination: [Yuzuki Yukari] Singing 'Monster Without a Name' [PSYCHO-PASS]-sm20308615.mp4"),
            To.Out("[download]   0.0% of 22.97MiB at 249.93KiB/s ETA 01:34"),
            To.Out("[download]   0.0% of 22.97MiB at 599.87KiB/s ETA 00:39"),
            To.Out("[download]   0.0% of 22.97MiB at  1.14MiB/s ETA 00:20"),
            To.Out("[download]   0.1% of 22.97MiB at 57.92KiB/s ETA 06:45"),
            To.Out("[download]   0.1% of 22.97MiB at 116.98KiB/s ETA 03:21"),
            To.Out("[download]   0.3% of 22.97MiB at 120.00KiB/s ETA 03:15"),
            To.Out("[download]   0.5% of 22.97MiB at 161.58KiB/s ETA 02:24"),
            To.Out("[download]   1.1% of 22.97MiB at 195.56KiB/s ETA 01:59"),
            To.Out("[download]   2.1% of 22.97MiB at 312.84KiB/s ETA 01:13"),
            To.Out("[download]   4.2% of 22.97MiB at 510.68KiB/s ETA 00:44"),
            To.Out("[download]   8.4% of 22.97MiB at 833.24KiB/s ETA 00:25"),
            To.Out("[download]  16.8% of 22.97MiB at 658.52KiB/s ETA 00:29"),
            To.Out("[download]  21.0% of 22.97MiB at 329.46KiB/s ETA 00:56"),
            To.Out("[download]  23.1% of 22.97MiB at 272.08KiB/s ETA 01:06"),
            To.Out("[download]  24.2% of 22.97MiB at 258.44KiB/s ETA 01:09"),
            To.Out("[download]  24.7% of 22.97MiB at 252.53KiB/s ETA 01:10"),
            To.Out("[download]  25.2% of 22.97MiB at 247.08KiB/s ETA 01:11"),
            To.Out("[download]  25.8% of 22.97MiB at 239.93KiB/s ETA 01:12"),
            To.Out("[download]  26.2% of 22.97MiB at 236.60KiB/s ETA 01:13"),
            To.Out("[download]  26.7% of 22.97MiB at 224.54KiB/s ETA 01:16"),
            To.Out("[download]  27.0% of 22.97MiB at 224.76KiB/s ETA 01:16"),
            To.Out("[download]  27.6% of 22.97MiB at 221.54KiB/s ETA 01:16"),
            To.Out("[download]  28.1% of 22.97MiB at 213.30KiB/s ETA 01:19"),
            To.Out("[download]  28.4% of 22.97MiB at 215.53KiB/s ETA 01:18"),
            To.Out("[download]  29.1% of 22.97MiB at 207.15KiB/s ETA 01:20"),
            To.Out("[download]  29.4% of 22.97MiB at 203.35KiB/s ETA 01:21"),
            To.Out("[download]  29.7% of 22.97MiB at 205.44KiB/s ETA 01:20"),
            To.Out("[download]  30.4% of 22.97MiB at 198.40KiB/s ETA 01:22"),
            To.Out("[download]  30.7% of 22.97MiB at 200.40KiB/s ETA 01:21"),
            To.Out("[download]  31.4% of 22.97MiB at 194.03KiB/s ETA 01:23"),
            To.Out("[download]  31.7% of 22.97MiB at 191.10KiB/s ETA 01:24"),
            To.Out("[download]  32.0% of 22.97MiB at 192.99KiB/s ETA 01:22"),
            To.Out("[download]  32.7% of 22.97MiB at 187.52KiB/s ETA 01:24"),
            To.Out("[download]  33.0% of 22.97MiB at 184.99KiB/s ETA 01:25"),
            To.Out("[download]  33.4% of 22.97MiB at 186.78KiB/s ETA 01:23"),
            To.Out("[download]  34.1% of 22.97MiB at 182.03KiB/s ETA 01:25"),
            To.Out("[download]  34.4% of 22.97MiB at 179.83KiB/s ETA 01:25"),
            To.Out("[download]  34.7% of 22.97MiB at 181.52KiB/s ETA 01:24"),
            To.Out("[download]  35.4% of 22.97MiB at 177.36KiB/s ETA 01:25"),
            To.Out("[download]  35.8% of 22.97MiB at 175.42KiB/s ETA 01:26"),
            To.Out("[download]  36.2% of 22.97MiB at 177.05KiB/s ETA 01:24"),
            To.Out("[download]  36.9% of 22.97MiB at 173.37KiB/s ETA 01:25"),
            To.Out("[download]  37.2% of 22.97MiB at 171.65KiB/s ETA 01:26"),
            To.Out("[download]  37.6% of 22.97MiB at 170.01KiB/s ETA 01:26"),
            To.Out("[download]  37.9% of 22.97MiB at 171.55KiB/s ETA 01:25"),
            To.Out("[download]  38.7% of 22.97MiB at 168.41KiB/s ETA 01:25"),
            To.Out("[download]  39.0% of 22.97MiB at 166.94KiB/s ETA 01:25"),
            To.Out("[download]  39.4% of 22.97MiB at 165.53KiB/s ETA 01:26"),
            To.Out("[download]  39.8% of 22.97MiB at 166.35KiB/s ETA 01:25"),
            To.Out("[download]  40.5% of 22.97MiB at 164.30KiB/s ETA 01:25"),
            To.Out("[download]  40.9% of 22.97MiB at 163.20KiB/s ETA 01:25"),
            To.Out("[download]  41.4% of 22.97MiB at 162.15KiB/s ETA 01:25"),
            To.Out("[download]  41.8% of 22.97MiB at 161.13KiB/s ETA 01:24"),
            To.Out("[download]  42.2% of 22.97MiB at 160.15KiB/s ETA 01:24"),
            To.Out("[download]  42.6% of 22.97MiB at 159.20KiB/s ETA 01:24"),
            To.Out("[download]  43.1% of 22.97MiB at 158.28KiB/s ETA 01:24"),
            To.Out("[download]  43.5% of 22.97MiB at 157.40KiB/s ETA 01:24"),
            To.Out("[download]  43.9% of 22.97MiB at 156.55KiB/s ETA 01:24"),
            To.Out("[download]  44.4% of 22.97MiB at 155.72KiB/s ETA 01:24"),
            To.Out("[download]  44.8% of 22.97MiB at 154.93KiB/s ETA 01:23"),
            To.Out("[download]  45.2% of 22.97MiB at 154.15KiB/s ETA 01:23"),
            To.Out("[download]  45.6% of 22.97MiB at 155.54KiB/s ETA 01:22"),
            To.Out("[download]  46.5% of 22.97MiB at 154.03KiB/s ETA 01:21"),
            To.Out("[download]  46.9% of 22.97MiB at 153.30KiB/s ETA 01:21"),
            To.Out("[download]  47.4% of 22.97MiB at 152.60KiB/s ETA 01:21"),
            To.Out("[download]  47.8% of 22.97MiB at 151.92KiB/s ETA 01:20"),
            To.Out("[download]  48.2% of 22.97MiB at 151.26KiB/s ETA 01:20"),
            To.Out("[download]  48.7% of 22.97MiB at 150.62KiB/s ETA 01:20"),
            To.Out("[download]  49.1% of 22.97MiB at 150.00KiB/s ETA 01:19"),
            To.Out("[download]  49.5% of 22.97MiB at 149.39KiB/s ETA 01:19"),
            To.Out("[download]  50.0% of 22.97MiB at 148.80KiB/s ETA 01:19"),
            To.Out("[download]  50.4% of 22.97MiB at 148.23KiB/s ETA 01:18"),
            To.Out("[download]  50.9% of 22.97MiB at 147.68KiB/s ETA 01:18"),
            To.Out("[download]  51.3% of 22.97MiB at 147.14KiB/s ETA 01:17"),
            To.Out("[download]  51.7% of 22.97MiB at 146.61KiB/s ETA 01:17"),
            To.Out("[download]  52.2% of 22.97MiB at 146.10KiB/s ETA 01:17"),
            To.Out("[download]  52.6% of 22.97MiB at 145.60KiB/s ETA 01:16"),
            To.Out("[download]  53.1% of 22.97MiB at 145.12KiB/s ETA 01:16"),
            To.Out("[download]  53.5% of 22.97MiB at 144.64KiB/s ETA 01:15"),
            To.Out("[download]  53.9% of 22.97MiB at 144.18KiB/s ETA 01:15"),
            To.Out("[download]  54.4% of 22.97MiB at 143.73KiB/s ETA 01:14"),
            To.Out("[download]  54.8% of 22.97MiB at 143.29KiB/s ETA 01:14"),
            To.Out("[download]  55.3% of 22.97MiB at 142.86KiB/s ETA 01:13"),
            To.Out("[download]  55.7% of 22.97MiB at 142.44KiB/s ETA 01:13"),
            To.Out("[download]  56.1% of 22.97MiB at 142.03KiB/s ETA 01:12"),
            To.Out("[download]  56.6% of 22.97MiB at 141.63KiB/s ETA 01:12"),
            To.Out("[download]  57.0% of 22.97MiB at 141.24KiB/s ETA 01:11"),
            To.Out("[download]  57.5% of 22.97MiB at 140.86KiB/s ETA 01:11"),
            To.Out("[download]  57.9% of 22.97MiB at 140.48KiB/s ETA 01:10"),
            To.Out("[download]  58.4% of 22.97MiB at 140.12KiB/s ETA 01:09"),
            To.Out("[download]  58.8% of 22.97MiB at 139.76KiB/s ETA 01:09"),
            To.Out("[download]  59.3% of 22.97MiB at 139.41KiB/s ETA 01:08"),
            To.Out("[download]  59.7% of 22.97MiB at 139.07KiB/s ETA 01:08"),
            To.Out("[download]  60.2% of 22.97MiB at 138.73KiB/s ETA 01:07"),
            To.Out("[download]  60.6% of 22.97MiB at 138.41KiB/s ETA 01:06"),
            To.Out("[download]  61.0% of 22.97MiB at 138.08KiB/s ETA 01:06"),
            To.Out("[download]  61.5% of 22.97MiB at 137.77KiB/s ETA 01:05"),
            To.Out("[download]  61.9% of 22.97MiB at 137.46KiB/s ETA 01:05"),
            To.Out("[download]  62.4% of 22.97MiB at 137.16KiB/s ETA 01:04"),
            To.Out("[download]  62.8% of 22.97MiB at 137.81KiB/s ETA 01:03"),
            To.Out("[download]  63.7% of 22.97MiB at 137.49KiB/s ETA 01:02"),
            To.Out("[download]  64.2% of 22.97MiB at 136.12KiB/s ETA 01:01"),
            To.Out("[download]  64.5% of 22.97MiB at 136.64KiB/s ETA 01:01"),
            To.Out("[download]  65.0% of 22.97MiB at 136.48KiB/s ETA 01:00"),
            To.Out("[download]  65.5% of 22.97MiB at 136.33KiB/s ETA 00:59"),
            To.Out("[download]  66.0% of 22.97MiB at 135.82KiB/s ETA 00:58"),
            To.Out("[download] Got server HTTP error: Downloaded 15899546 bytes, expected 24090816 bytes. Retrying (attempt 1 of 10)..."),
            To.Out(""),

            To.Err("ERROR: unable to download video data: HTTP Error 403: Forbidden"),
            To.Err("")
        };

        public int ExitCode => 1;

        public IEnumerable<DownloadState> ExpectedDownloadStatuses => new DownloadState[] {
            DownloadState.Starting, DownloadState.Downloading, DownloadState.Failed
        };

        public IEnumerable<double> ExpectedPercents => new double[] {
            0.0, 0.0, 0.0, 0.1, 0.1, 0.3, 0.5, 1.1, 2.1, 4.2, 8.4, 16.8, 21.0, 23.1, 24.2, 24.7, 25.2,
            25.8, 26.2, 26.7, 27.0, 27.6, 28.1, 28.4, 29.1, 29.4, 29.7, 30.4, 30.7, 31.4, 31.7, 32.0,
            32.7, 33.0, 33.4, 34.1, 34.4, 34.7, 35.4, 35.8, 36.2, 36.9, 37.2, 37.6, 37.9, 38.7, 39.0,
            39.4, 39.8, 40.5, 40.9, 41.4, 41.8, 42.2, 42.6, 43.1, 43.5, 43.9, 44.4, 44.8, 45.2, 45.6,
            46.5, 46.9, 47.4, 47.8, 48.2, 48.7, 49.1, 49.5, 50.0, 50.4, 50.9, 51.3, 51.7, 52.2, 52.6,
            53.1, 53.5, 53.9, 54.4, 54.8, 55.3, 55.7, 56.1, 56.6, 57.0, 57.5, 57.9, 58.4, 58.8, 59.3,
            59.7, 60.2, 60.6, 61.0, 61.5, 61.9, 62.4, 62.8, 63.7, 64.2, 64.5, 65.0, 65.5, 66.0
        };

        public string MediaUri => "http://www.nicovideo.jp/watch/sm20308615";
    }
}
